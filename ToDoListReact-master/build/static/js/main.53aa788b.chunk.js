(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(21)},21:function(e,t,a){"use strict";a.r(t);var s=a(2),o=a.n(s),n=a(23);const c="http://localhost:5216";n.a.defaults.baseURL=c,n.a.interceptors.response.use(e=>e,e=>(console.error("HTTP Error:",e.message),e.response&&(console.error("Response data:",e.response.data),console.error("Response status:",e.response.status)),Promise.reject(e)));var r={getTasks:async()=>{return(await n.a.get("".concat(c,"/items"))).data},addTask:async e=>{console.log("addTask",e);try{return(await n.a.post("".concat(c,"/items"),{name:e})).data}catch(t){throw console.error("Error adding task:",t.message),t}},setCompleted:async(e,t)=>{console.log("setCompleted",{id:e,isComplete:t});try{const s={name:(await n.a.get("".concat(c,"/items/").concat(e))).data.name,isComplete:t};return(await n.a.put("".concat(c,"/items/").concat(e),s,{headers:{"Content-Type":"application/json"}})).data}catch(a){throw console.error("Error setting task completion:",a.message),a}},deleteTask:async e=>{try{await n.a.delete("/items/".concat(e)),console.log("Task deleted successfully")}catch(t){throw console.error("Error deleting task:",t.message),t}}};var l=function(){const[e,t]=Object(s.useState)(""),[a,n]=Object(s.useState)([]);async function c(){const e=await r.getTasks();n(e)}return Object(s.useEffect)(()=>{c()},[]),o.a.createElement("section",{className:"todoapp"},o.a.createElement("header",{className:"header"},o.a.createElement("h1",null,"todos"),o.a.createElement("form",{onSubmit:async function(a){a.preventDefault(),await r.addTask(e),t(""),await c()}},o.a.createElement("input",{className:"new-todo",placeholder:"Well, let's take on the day",value:e,onChange:e=>t(e.target.value)}))),o.a.createElement("section",{className:"main",style:{display:"block"}},o.a.createElement("ul",{className:"todo-list"},a.map(e=>o.a.createElement("li",{className:e.isComplete?"completed":"",key:e.id},o.a.createElement("div",{className:"view"},o.a.createElement("input",{className:"toggle",type:"checkbox",defaultChecked:e.isComplete,onChange:t=>(async function(e,t){await r.setCompleted(e.id,t),await c()})(e,t.target.checked)}),o.a.createElement("label",null,e.name),o.a.createElement("button",{className:"destroy",onClick:()=>(async function(e){await r.deleteTask(e),await c()})(e.id)})))))))},i=a(9);a.n(i).a.createRoot(document.getElementById("root")).render(o.a.createElement(l,null))}},[[10,1,2]]]);
//# sourceMappingURL=main.53aa788b.chunk.js.map